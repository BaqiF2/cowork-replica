# Claude Replica ç«¯åˆ°ç«¯æµ‹è¯•æŒ‡å—

æœ¬æ–‡æ¡£æä¾›åœ¨çœŸå®ç¯å¢ƒä¸‹æµ‹è¯• Claude Replica æ¯ä¸€é¡¹åŠŸèƒ½çš„å®Œæ•´æŒ‡å—ã€‚

## ç›®å½•

- [æµ‹è¯•ç¯å¢ƒå‡†å¤‡](#æµ‹è¯•ç¯å¢ƒå‡†å¤‡)
- [æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•](#æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•)
- [æ‰©å±•ç³»ç»Ÿæµ‹è¯•](#æ‰©å±•ç³»ç»Ÿæµ‹è¯•)
- [é›†æˆåŠŸèƒ½æµ‹è¯•](#é›†æˆåŠŸèƒ½æµ‹è¯•)
- [CI/CD æµ‹è¯•](#cicd-æµ‹è¯•)
- [æ•…éšœæ¢å¤æµ‹è¯•](#æ•…éšœæ¢å¤æµ‹è¯•)
- [æ€§èƒ½æµ‹è¯•](#æ€§èƒ½æµ‹è¯•)

---

## æµ‹è¯•ç¯å¢ƒå‡†å¤‡

### 1. ç¯å¢ƒè¦æ±‚æ£€æŸ¥

```bash
# æ£€æŸ¥ Node.js ç‰ˆæœ¬ï¼ˆéœ€è¦ >= 20.0.0ï¼‰
node --version

# æ£€æŸ¥ npm ç‰ˆæœ¬
npm --version

# æ£€æŸ¥ Git ç‰ˆæœ¬
git --version
```

### 2. å®‰è£… Claude Replica

```bash
# æ–¹å¼ä¸€ï¼šå…¨å±€å®‰è£…
npm install -g claude-replica

# æ–¹å¼äºŒï¼šä»æºç å®‰è£…
git clone https://github.com/BaqiF2/claude-replica.git
cd claude-replica
npm install
npm run build
npm link

# éªŒè¯å®‰è£…
claude-replica --version
```

### 3. é…ç½®è®¤è¯

Claude Replica ä½¿ç”¨ Claude Agent SDKï¼Œä¼šè‡ªåŠ¨ä» Claude Code é…ç½®ä¸­è·å–è®¤è¯ä¿¡æ¯ã€‚

**ç¡®ä¿ Claude Code å·²æ­£ç¡®é…ç½®ï¼š**

```bash
# æ–¹å¼ä¸€ï¼šä½¿ç”¨ Claude Code CLI ç™»å½•
claude login

# æ–¹å¼äºŒï¼šæ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls ~/.claude/settings.json
```

**éªŒè¯é…ç½®ï¼š**

```bash
# æµ‹è¯•æ˜¯å¦èƒ½æ­£å¸¸è¿è¡Œ
claude-replica -p "ä½ å¥½" --max-turns 1
```

### 4. åˆ›å»ºæµ‹è¯•é¡¹ç›®

```bash
# åˆ›å»ºæµ‹è¯•ç›®å½•
mkdir -p ~/claude-replica-e2e-test
cd ~/claude-replica-e2e-test

# åˆå§‹åŒ–æµ‹è¯•é¡¹ç›®
npm init -y
mkdir -p src tests
echo 'console.log("Hello World");' > src/index.js
echo '# æµ‹è¯•é¡¹ç›®' > README_ZH.md
```

---

## æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•

### æµ‹è¯• 1: äº¤äº’æ¨¡å¼å¯åŠ¨

**ç›®æ ‡**: éªŒè¯äº¤äº’æ¨¡å¼æ­£å¸¸å¯åŠ¨å’Œé€€å‡º

**æ­¥éª¤**:
```bash
# å¯åŠ¨äº¤äº’æ¨¡å¼
claude-replica
```

**é¢„æœŸç»“æœ**:
- [ ] æ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯
- [ ] æ˜¾ç¤ºå‘½ä»¤æç¤ºç¬¦
- [ ] å¯ä»¥è¾“å…¥æ¶ˆæ¯

**é€€å‡ºæµ‹è¯•**:
```
# åœ¨äº¤äº’æ¨¡å¼ä¸­è¾“å…¥
/exit
```

**é¢„æœŸç»“æœ**:
- [ ] ç¨‹åºæ­£å¸¸é€€å‡º
- [ ] æ— é”™è¯¯ä¿¡æ¯

---

### æµ‹è¯• 2: éäº¤äº’æ¨¡å¼æŸ¥è¯¢

**ç›®æ ‡**: éªŒè¯å•æ¬¡æŸ¥è¯¢åŠŸèƒ½

**æ­¥éª¤**:
```bash
# åŸºæœ¬æŸ¥è¯¢
claude-replica -p "è¯·ç”¨ä¸€å¥è¯ä»‹ç»ä½ è‡ªå·±"

# å¸¦è¶…æ—¶çš„æŸ¥è¯¢
claude-replica -p "1+1ç­‰äºå‡ ï¼Ÿ" --timeout 30

# æŒ‡å®šæ¨¡å‹
claude-replica -p "ä½ å¥½" --model sonnet
```

**é¢„æœŸç»“æœ**:
- [ ] è¿”å› AI å“åº”
- [ ] ç¨‹åºè‡ªåŠ¨é€€å‡º
- [ ] é€€å‡ºç ä¸º 0

---

### æµ‹è¯• 3: è¾“å‡ºæ ¼å¼

**ç›®æ ‡**: éªŒè¯ä¸åŒè¾“å‡ºæ ¼å¼

**æ­¥éª¤**:
```bash
# æ–‡æœ¬æ ¼å¼ï¼ˆé»˜è®¤ï¼‰
claude-replica -p "è¯´ä½ å¥½" --output-format text

# JSON æ ¼å¼
claude-replica -p "è¯´ä½ å¥½" --output-format json

# Markdown æ ¼å¼
claude-replica -p "è¯´ä½ å¥½" --output-format markdown

# æµå¼ JSON æ ¼å¼
claude-replica -p "è¯´ä½ å¥½" --output-format stream-json
```

**é¢„æœŸç»“æœ**:
- [ ] text: çº¯æ–‡æœ¬è¾“å‡º
- [ ] json: æœ‰æ•ˆçš„ JSON ç»“æ„
- [ ] markdown: Markdown æ ¼å¼
- [ ] stream-json: æ¯è¡Œä¸€ä¸ª JSON äº‹ä»¶

---

### æµ‹è¯• 4: æ–‡ä»¶æ“ä½œ

**ç›®æ ‡**: éªŒè¯æ–‡ä»¶è¯»å†™åŠŸèƒ½

**æ­¥éª¤**:
```bash
# è¯»å–æ–‡ä»¶
claude-replica -p "è¯»å– src/index.js æ–‡ä»¶å†…å®¹å¹¶è§£é‡Š"

# åˆ›å»ºæ–‡ä»¶
claude-replica -p "åˆ›å»ºä¸€ä¸ª src/utils.js æ–‡ä»¶ï¼ŒåŒ…å«ä¸€ä¸ª add å‡½æ•°"

# ç¼–è¾‘æ–‡ä»¶
claude-replica -p "ä¿®æ”¹ src/index.jsï¼Œæ·»åŠ ä¸€è¡Œæ³¨é‡Š"
```

**é¢„æœŸç»“æœ**:
- [ ] èƒ½æ­£ç¡®è¯»å–æ–‡ä»¶å†…å®¹
- [ ] èƒ½åˆ›å»ºæ–°æ–‡ä»¶
- [ ] èƒ½ç¼–è¾‘ç°æœ‰æ–‡ä»¶
- [ ] æ–‡ä»¶å†…å®¹æ­£ç¡®

**éªŒè¯**:
```bash
cat src/index.js
cat src/utils.js
```

---

### æµ‹è¯• 5: å‘½ä»¤æ‰§è¡Œ

**ç›®æ ‡**: éªŒè¯ Bash å‘½ä»¤æ‰§è¡ŒåŠŸèƒ½

**æ­¥éª¤**:
```bash
# æ‰§è¡Œç®€å•å‘½ä»¤
claude-replica -p "æ‰§è¡Œ ls -la å‘½ä»¤å¹¶è§£é‡Šè¾“å‡º"

# æ‰§è¡Œ npm å‘½ä»¤
claude-replica -p "æ‰§è¡Œ npm list æŸ¥çœ‹ä¾èµ–"

# æ‰§è¡Œ git å‘½ä»¤
claude-replica -p "æ‰§è¡Œ git status æŸ¥çœ‹çŠ¶æ€"
```

**é¢„æœŸç»“æœ**:
- [ ] å‘½ä»¤æ­£ç¡®æ‰§è¡Œ
- [ ] è¾“å‡ºè¢«æ­£ç¡®è§£æ
- [ ] å±é™©å‘½ä»¤éœ€è¦ç¡®è®¤

---

### æµ‹è¯• 6: ä»£ç æœç´¢

**ç›®æ ‡**: éªŒè¯ Grep å’Œ Glob åŠŸèƒ½

**æ­¥éª¤**:
```bash
# æœç´¢æ–‡ä»¶å†…å®¹
claude-replica -p "åœ¨é¡¹ç›®ä¸­æœç´¢åŒ…å« console çš„ä»£ç "

# æŸ¥æ‰¾æ–‡ä»¶
claude-replica -p "åˆ—å‡ºæ‰€æœ‰ .js æ–‡ä»¶"

# å¤æ‚æœç´¢
claude-replica -p "æ‰¾åˆ°æ‰€æœ‰å®šä¹‰å‡½æ•°çš„åœ°æ–¹"
```

**é¢„æœŸç»“æœ**:
- [ ] æœç´¢ç»“æœå‡†ç¡®
- [ ] æ˜¾ç¤ºæ–‡ä»¶è·¯å¾„å’Œè¡Œå·
- [ ] æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼

---

### æµ‹è¯• 7: ä¼šè¯ç®¡ç†

**ç›®æ ‡**: éªŒè¯ä¼šè¯ä¿å­˜å’Œæ¢å¤

**æ­¥éª¤**:
```bash
# å¯åŠ¨æ–°ä¼šè¯å¹¶è¿›è¡Œå¯¹è¯
claude-replica
# è¾“å…¥: è®°ä½æ•°å­— 42
# è¾“å…¥: /exit

# ç»§ç»­æœ€è¿‘ä¼šè¯
claude-replica -c
# è¾“å…¥: æˆ‘è®©ä½ è®°ä½çš„æ•°å­—æ˜¯ä»€ä¹ˆï¼Ÿ
# è¾“å…¥: /exit

# åˆ—å‡ºæ‰€æœ‰ä¼šè¯
claude-replica sessions

# æ¢å¤æŒ‡å®šä¼šè¯ï¼ˆä½¿ç”¨ä¸Šé¢åˆ—å‡ºçš„ä¼šè¯ IDï¼‰
claude-replica --resume <session-id>
```

**é¢„æœŸç»“æœ**:
- [ ] ä¼šè¯è¢«æ­£ç¡®ä¿å­˜
- [ ] èƒ½ç»§ç»­æœ€è¿‘ä¼šè¯
- [ ] ä¼šè¯åˆ—è¡¨æ­£ç¡®æ˜¾ç¤º
- [ ] èƒ½æ¢å¤æŒ‡å®šä¼šè¯
- [ ] ä¸Šä¸‹æ–‡è¢«æ­£ç¡®ä¿ç•™

---

### æµ‹è¯• 8: å†…ç½®å‘½ä»¤

**ç›®æ ‡**: éªŒè¯æ‰€æœ‰å†…ç½®å‘½ä»¤

**æ­¥éª¤**:
```bash
# å¯åŠ¨äº¤äº’æ¨¡å¼
claude-replica

# æµ‹è¯•å„ä¸ªå‘½ä»¤
/help
/sessions
/config
/permissions
/mcp
/clear
/exit
```

**é¢„æœŸç»“æœ**:
- [ ] `/help` æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
- [ ] `/sessions` åˆ—å‡ºä¼šè¯
- [ ] `/config` æ˜¾ç¤ºé…ç½®
- [ ] `/permissions` æ˜¾ç¤ºæƒé™
- [ ] `/mcp` æ˜¾ç¤º MCP çŠ¶æ€
- [ ] `/clear` æ¸…å±
- [ ] `/exit` é€€å‡ºç¨‹åº

---

## æ‰©å±•ç³»ç»Ÿæµ‹è¯•

### æµ‹è¯• 9: æŠ€èƒ½ç³»ç»Ÿ

**ç›®æ ‡**: éªŒè¯æŠ€èƒ½åŠ è½½å’ŒåŒ¹é…

**å‡†å¤‡**:
```bash
# åˆ›å»ºæŠ€èƒ½ç›®å½•å’Œæ–‡ä»¶
mkdir -p .claude/skills

cat > .claude/skills/javascript-expert.md << 'EOF'
---
name: javascript-expert
description: JavaScript å¼€å‘ä¸“å®¶
triggers:
  - javascript
  - js
  - node
tools:
  - Read
  - Write
  - Bash
---

ä½ æ˜¯ JavaScript å¼€å‘ä¸“å®¶ï¼Œæ“…é•¿ï¼š

## æ ¸å¿ƒèƒ½åŠ›
- ES6+ è¯­æ³•
- Node.js å¼€å‘
- å¼‚æ­¥ç¼–ç¨‹
- æ¨¡å—ç³»ç»Ÿ

## æœ€ä½³å®è·µ
- ä½¿ç”¨ const å’Œ let
- é¿å…å›è°ƒåœ°ç‹±
- ä½¿ç”¨ async/await
EOF
```

**æ­¥éª¤**:
```bash
# è§¦å‘æŠ€èƒ½
claude-replica -p "å¸®æˆ‘å†™ä¸€ä¸ª JavaScript å‡½æ•°æ¥è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—"
```

**é¢„æœŸç»“æœ**:
- [ ] æŠ€èƒ½è¢«è‡ªåŠ¨åŠ è½½
- [ ] AI å“åº”ç¬¦åˆæŠ€èƒ½å®šä¹‰çš„ä¸“ä¸šé¢†åŸŸ
- [ ] ä½¿ç”¨æŠ€èƒ½ä¸­å®šä¹‰çš„æœ€ä½³å®è·µ

---

### æµ‹è¯• 10: è‡ªå®šä¹‰å‘½ä»¤

**ç›®æ ‡**: éªŒè¯è‡ªå®šä¹‰å‘½ä»¤åŠŸèƒ½

**å‡†å¤‡**:
```bash
# åˆ›å»ºå‘½ä»¤ç›®å½•å’Œæ–‡ä»¶
mkdir -p .claude/commands

cat > .claude/commands/review.md << 'EOF'
---
name: review
description: ä»£ç å®¡æŸ¥
argumentHint: <file>
allowedTools:
  - Read
  - Grep
---

è¯·å®¡æŸ¥ä»¥ä¸‹æ–‡ä»¶çš„ä»£ç è´¨é‡ï¼š

$ARGUMENTS

é‡ç‚¹å…³æ³¨ï¼š
1. ä»£ç é£æ ¼å’Œå¯è¯»æ€§
2. æ½œåœ¨çš„ bug
3. æ€§èƒ½é—®é¢˜
4. å®‰å…¨æ¼æ´
EOF
```

**æ­¥éª¤**:
```bash
# å¯åŠ¨äº¤äº’æ¨¡å¼
claude-replica

# ä½¿ç”¨è‡ªå®šä¹‰å‘½ä»¤
/review src/index.js
```

**é¢„æœŸç»“æœ**:
- [ ] å‘½ä»¤è¢«æ­£ç¡®è¯†åˆ«
- [ ] å‚æ•°è¢«æ­£ç¡®æ›¿æ¢
- [ ] æ‰§è¡Œä»£ç å®¡æŸ¥ä»»åŠ¡

---

### æµ‹è¯• 11: å­ä»£ç†

**ç›®æ ‡**: éªŒè¯å­ä»£ç†åŠŸèƒ½

**å‡†å¤‡**:
```bash
# åˆ›å»ºä»£ç†ç›®å½•å’Œæ–‡ä»¶
mkdir -p .claude/agents

cat > .claude/agents/test-expert.agent.md << 'EOF'
---
description: æµ‹è¯•ä¸“å®¶ï¼Œä¸“æ³¨äºç¼–å†™é«˜è´¨é‡æµ‹è¯•
model: sonnet
tools:
  - Read
  - Write
  - Bash
---

ä½ æ˜¯æµ‹è¯•ä¸“å®¶ï¼Œè´Ÿè´£ï¼š

## èŒè´£
- ç¼–å†™å•å…ƒæµ‹è¯•
- åˆ†ææµ‹è¯•è¦†ç›–ç‡
- æä¾›æµ‹è¯•ç­–ç•¥å»ºè®®

## æµ‹è¯•åŸåˆ™
- æµ‹è¯•åº”è¯¥ç‹¬ç«‹ä¸”å¯é‡å¤
- ä½¿ç”¨æè¿°æ€§çš„æµ‹è¯•åç§°
- éµå¾ª AAA æ¨¡å¼
EOF
```

**æ­¥éª¤**:
```bash
# ä½¿ç”¨å­ä»£ç†
claude-replica -p "@test-expert è¯·ä¸º src/index.js ç¼–å†™å•å…ƒæµ‹è¯•"
```

**é¢„æœŸç»“æœ**:
- [ ] å­ä»£ç†è¢«æ­£ç¡®è°ƒç”¨
- [ ] ä½¿ç”¨å­ä»£ç†å®šä¹‰çš„ä¸“ä¸šçŸ¥è¯†
- [ ] ç”Ÿæˆç¬¦åˆè¦æ±‚çš„æµ‹è¯•ä»£ç 

---

### æµ‹è¯• 12: é’©å­ç³»ç»Ÿ

**ç›®æ ‡**: éªŒè¯é’©å­è‡ªåŠ¨è§¦å‘

**å‡†å¤‡**:
```bash
# åˆ›å»ºé’©å­é…ç½®
cat > .claude/hooks.json << 'EOF'
{
  "PostToolUse": [
    {
      "matcher": "Write|Edit",
      "hooks": [
        {
          "type": "command",
          "command": "echo 'æ–‡ä»¶å·²ä¿®æ”¹: $FILE'"
        }
      ]
    }
  ],
  "SessionStart": [
    {
      "matcher": ".*",
      "hooks": [
        {
          "type": "prompt",
          "prompt": "è¯·è®°ä½ï¼šè¿™æ˜¯ä¸€ä¸ªæµ‹è¯•é¡¹ç›®"
        }
      ]
    }
  ]
}
EOF
```

**æ­¥éª¤**:
```bash
# å¯åŠ¨æ–°ä¼šè¯ï¼ˆè§¦å‘ SessionStart é’©å­ï¼‰
claude-replica

# åˆ›å»ºæ–‡ä»¶ï¼ˆè§¦å‘ PostToolUse é’©å­ï¼‰
# è¾“å…¥: åˆ›å»ºä¸€ä¸ª test.txt æ–‡ä»¶
```

**é¢„æœŸç»“æœ**:
- [ ] SessionStart é’©å­åœ¨ä¼šè¯å¼€å§‹æ—¶è§¦å‘
- [ ] PostToolUse é’©å­åœ¨æ–‡ä»¶å†™å…¥åè§¦å‘
- [ ] é’©å­å‘½ä»¤æ­£ç¡®æ‰§è¡Œ

---

## é›†æˆåŠŸèƒ½æµ‹è¯•

### æµ‹è¯• 13: MCP é›†æˆ

**ç›®æ ‡**: éªŒè¯ MCP æœåŠ¡å™¨é›†æˆ

**å‡†å¤‡**:
```bash
# åˆ›å»º MCP é…ç½®ï¼ˆä½¿ç”¨æ–‡ä»¶ç³»ç»ŸæœåŠ¡å™¨ä½œä¸ºç¤ºä¾‹ï¼‰
cat > .mcp.json << 'EOF'
{
  "filesystem": {
    "command": "npx",
    "args": ["-y", "@modelcontextprotocol/server-filesystem", "."]
  }
}
EOF
```

**æ­¥éª¤**:
```bash
# å¯åŠ¨å¹¶æ£€æŸ¥ MCP çŠ¶æ€
claude-replica

# æŸ¥çœ‹ MCP æœåŠ¡å™¨çŠ¶æ€
/mcp

# ä½¿ç”¨ MCP å·¥å…·
# è¾“å…¥: ä½¿ç”¨ MCP æ–‡ä»¶ç³»ç»Ÿå·¥å…·åˆ—å‡ºå½“å‰ç›®å½•
```

**é¢„æœŸç»“æœ**:
- [ ] MCP æœåŠ¡å™¨æ­£ç¡®å¯åŠ¨
- [ ] `/mcp` æ˜¾ç¤ºæœåŠ¡å™¨çŠ¶æ€
- [ ] MCP å·¥å…·å¯ç”¨

---

### æµ‹è¯• 14: æƒé™ç®¡ç†

**ç›®æ ‡**: éªŒè¯æƒé™æ§åˆ¶åŠŸèƒ½

**æ­¥éª¤**:
```bash
# é»˜è®¤æ¨¡å¼ï¼ˆéœ€è¦ç¡®è®¤ï¼‰
claude-replica -p "åˆ é™¤ test.txt æ–‡ä»¶" --permission-mode default

# è‡ªåŠ¨æ¥å—ç¼–è¾‘æ¨¡å¼
claude-replica -p "åˆ›å»º auto-test.txt æ–‡ä»¶" --permission-mode acceptEdits

# è®¡åˆ’æ¨¡å¼ï¼ˆåªç”Ÿæˆè®¡åˆ’ï¼‰
claude-replica -p "é‡æ„æ•´ä¸ªé¡¹ç›®" --permission-mode plan

# å·¥å…·ç™½åå•
claude-replica -p "è¯»å– README.md" --allowed-tools Read,Grep

# å·¥å…·é»‘åå•
claude-replica -p "æ‰§è¡Œ ls å‘½ä»¤" --disallowed-tools Bash
```

**é¢„æœŸç»“æœ**:
- [ ] default æ¨¡å¼ä¸‹æ•æ„Ÿæ“ä½œéœ€è¦ç¡®è®¤
- [ ] acceptEdits æ¨¡å¼è‡ªåŠ¨æ¥å—æ–‡ä»¶ç¼–è¾‘
- [ ] plan æ¨¡å¼åªç”Ÿæˆè®¡åˆ’ä¸æ‰§è¡Œ
- [ ] ç™½åå•é™åˆ¶å¯ç”¨å·¥å…·
- [ ] é»‘åå•ç¦æ­¢ç‰¹å®šå·¥å…·

---

### æµ‹è¯• 15: å›é€€ç³»ç»Ÿ

**ç›®æ ‡**: éªŒè¯æ–‡ä»¶ä¿®æ”¹å›é€€åŠŸèƒ½

**æ­¥éª¤**:
```bash
# åˆ›å»ºæµ‹è¯•æ–‡ä»¶
echo "åŸå§‹å†…å®¹" > rewind-test.txt

# å¯åŠ¨äº¤äº’æ¨¡å¼
claude-replica

# ä¿®æ”¹æ–‡ä»¶
# è¾“å…¥: å°† rewind-test.txt çš„å†…å®¹æ”¹ä¸º "ä¿®æ”¹åçš„å†…å®¹"

# éªŒè¯ä¿®æ”¹
# è¾“å…¥: è¯»å– rewind-test.txt

# è§¦å‘å›é€€èœå•ï¼ˆæŒ‰ Esc + Escï¼‰
# é€‰æ‹©æ¢å¤åˆ°ä¹‹å‰çš„å¿«ç…§

# éªŒè¯å›é€€
# è¾“å…¥: è¯»å– rewind-test.txt
```

**é¢„æœŸç»“æœ**:
- [ ] æ–‡ä»¶ä¿®æ”¹è¢«è®°å½•
- [ ] å›é€€èœå•æ­£ç¡®æ˜¾ç¤º
- [ ] æ–‡ä»¶æˆåŠŸæ¢å¤åˆ°ä¹‹å‰çŠ¶æ€

---

### æµ‹è¯• 16: CLAUDE.md é¡¹ç›®ä¸Šä¸‹æ–‡

**ç›®æ ‡**: éªŒè¯é¡¹ç›®ä¸Šä¸‹æ–‡åŠ è½½

**å‡†å¤‡**:
```bash
# åˆ›å»º CLAUDE.md
cat > CLAUDE.md << 'EOF'
# æµ‹è¯•é¡¹ç›®

## æ¦‚è¿°
è¿™æ˜¯ä¸€ä¸ªç”¨äºç«¯åˆ°ç«¯æµ‹è¯•çš„é¡¹ç›®ã€‚

## æŠ€æœ¯æ ˆ
- Node.js
- JavaScript

## ç¼–ç è§„èŒƒ
- ä½¿ç”¨ 2 ç©ºæ ¼ç¼©è¿›
- ä½¿ç”¨å•å¼•å·
- æ–‡ä»¶æœ«å°¾ä¿ç•™ç©ºè¡Œ

## å¸¸ç”¨å‘½ä»¤
- npm test - è¿è¡Œæµ‹è¯•
- npm start - å¯åŠ¨é¡¹ç›®
EOF
```

**æ­¥éª¤**:
```bash
# å¯åŠ¨ä¼šè¯
claude-replica -p "è¿™ä¸ªé¡¹ç›®ä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯æ ˆï¼Ÿ"
```

**é¢„æœŸç»“æœ**:
- [ ] CLAUDE.md è¢«è‡ªåŠ¨åŠ è½½
- [ ] AI äº†è§£é¡¹ç›®ä¸Šä¸‹æ–‡
- [ ] å“åº”ç¬¦åˆé¡¹ç›®è§„èŒƒ

---

## CI/CD æµ‹è¯•

### æµ‹è¯• 17: CI ç¯å¢ƒæ£€æµ‹

**ç›®æ ‡**: éªŒè¯ CI ç¯å¢ƒè‡ªåŠ¨æ£€æµ‹

**æ­¥éª¤**:
```bash
# æ¨¡æ‹Ÿ GitHub Actions ç¯å¢ƒ
GITHUB_ACTIONS=true claude-replica -p "ä½ å¥½" --output-format json

# æ¨¡æ‹Ÿ GitLab CI ç¯å¢ƒ
GITLAB_CI=true claude-replica -p "ä½ å¥½" --output-format json

# æ¨¡æ‹Ÿ Jenkins ç¯å¢ƒ
JENKINS_URL=http://localhost claude-replica -p "ä½ å¥½" --output-format json
```

**é¢„æœŸç»“æœ**:
- [ ] è‡ªåŠ¨ä½¿ç”¨éäº¤äº’æ¨¡å¼
- [ ] è¾“å‡ºç»“æ„åŒ–æ—¥å¿—
- [ ] è¿”å›é€‚å½“çš„é€€å‡ºç 

---

### æµ‹è¯• 18: é€€å‡ºç éªŒè¯

**ç›®æ ‡**: éªŒè¯å„ç§æƒ…å†µä¸‹çš„é€€å‡ºç 

**æ­¥éª¤**:
```bash
# æˆåŠŸæ‰§è¡Œ
claude-replica -p "1+1" --max-turns 1
echo "é€€å‡ºç : $?"

# è¶…æ—¶é”™è¯¯
claude-replica -p "å†™ä¸€ç¯‡10000å­—çš„æ–‡ç« " --timeout 1
echo "é€€å‡ºç : $?"

# é…ç½®é”™è¯¯ï¼ˆæ— æ•ˆçš„æ¨¡å‹ï¼‰
claude-replica -p "ä½ å¥½" --model invalid-model
echo "é€€å‡ºç : $?"
```

**é¢„æœŸç»“æœ**:
- [ ] æˆåŠŸ: é€€å‡ºç  0
- [ ] è¶…æ—¶: é€€å‡ºç  5
- [ ] é…ç½®é”™è¯¯: é€€å‡ºç  2

---

### æµ‹è¯• 19: GitHub Actions é›†æˆ

**ç›®æ ‡**: éªŒè¯ GitHub Actions å·¥ä½œæµ

**å‡†å¤‡**:
```yaml
# åˆ›å»º .github/workflows/test.yml
name: Claude Replica Test

on: [push]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '20'
      
      - name: Install Claude Code CLI
        run: npm install -g @anthropic-ai/claude-code
      
      - name: Install Claude Replica
        run: npm install -g claude-replica
      
      - name: Run Test
        env:
          # Claude Agent SDK ä¼šè‡ªåŠ¨ä» Claude Code é…ç½®è·å–è®¤è¯
          # åœ¨ CI ä¸­å¯ä»¥é€šè¿‡è®¾ç½® ANTHROPIC_API_KEY ç¯å¢ƒå˜é‡è¦†ç›–
          ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
        run: |
          claude-replica -p "åˆ†æè¿™ä¸ªé¡¹ç›®" \
            --output-format json \
            --timeout 60
```

**é¢„æœŸç»“æœ**:
- [ ] å·¥ä½œæµæ­£ç¡®æ‰§è¡Œ
- [ ] è¾“å‡º JSON æ ¼å¼ç»“æœ
- [ ] æ­£ç¡®å¤„ç†è¶…æ—¶

---

## æ•…éšœæ¢å¤æµ‹è¯•

### æµ‹è¯• 20: ç½‘ç»œé”™è¯¯å¤„ç†

**ç›®æ ‡**: éªŒè¯ç½‘ç»œé”™è¯¯å¤„ç†

**æ­¥éª¤**:
```bash
# ä½¿ç”¨æ— æ•ˆçš„ API ç«¯ç‚¹
ANTHROPIC_BASE_URL=https://invalid.example.com claude-replica -p "ä½ å¥½"
```

**é¢„æœŸç»“æœ**:
- [ ] æ˜¾ç¤ºç½‘ç»œé”™è¯¯ä¿¡æ¯
- [ ] é€€å‡ºç ä¸º 4

---

### æµ‹è¯• 21: API è®¤è¯é”™è¯¯

**ç›®æ ‡**: éªŒè¯ API è®¤è¯é”™è¯¯å¤„ç†

**æ­¥éª¤**:
```bash
# åœ¨æœªé…ç½® Claude Code è®¤è¯çš„ç¯å¢ƒä¸­è¿è¡Œ
# æˆ–ä½¿ç”¨æ— æ•ˆçš„è®¤è¯é…ç½®
claude-replica -p "ä½ å¥½"
```

**é¢„æœŸç»“æœ**:
- [ ] æ˜¾ç¤ºè®¤è¯é”™è¯¯ä¿¡æ¯
- [ ] é€€å‡ºç ä¸º 3

---

### æµ‹è¯• 22: ä¸­æ–­å¤„ç†

**ç›®æ ‡**: éªŒè¯ç”¨æˆ·ä¸­æ–­å¤„ç†

**æ­¥éª¤**:
```bash
# å¯åŠ¨é•¿æ—¶é—´ä»»åŠ¡
claude-replica -p "å†™ä¸€ç¯‡å¾ˆé•¿çš„æ–‡ç« "

# æŒ‰ Ctrl+C ä¸­æ–­
```

**é¢„æœŸç»“æœ**:
- [ ] ä»»åŠ¡è¢«æ­£ç¡®ä¸­æ–­
- [ ] æ˜¾ç¤ºä¸­æ–­ä¿¡æ¯
- [ ] ç¨‹åºæ­£å¸¸é€€å‡º

---

## æ€§èƒ½æµ‹è¯•

### æµ‹è¯• 23: å“åº”æ—¶é—´

**ç›®æ ‡**: æµ‹é‡åŸºæœ¬æ“ä½œçš„å“åº”æ—¶é—´

**æ­¥éª¤**:
```bash
# æµ‹é‡ç®€å•æŸ¥è¯¢å“åº”æ—¶é—´
time claude-replica -p "1+1" --max-turns 1

# æµ‹é‡æ–‡ä»¶è¯»å–å“åº”æ—¶é—´
time claude-replica -p "è¯»å– README.md" --max-turns 1

# æµ‹é‡ä»£ç ç”Ÿæˆå“åº”æ—¶é—´
time claude-replica -p "å†™ä¸€ä¸ªç®€å•çš„ hello world å‡½æ•°" --max-turns 1
```

**é¢„æœŸç»“æœ**:
- [ ] ç®€å•æŸ¥è¯¢ < 5 ç§’
- [ ] æ–‡ä»¶è¯»å– < 10 ç§’
- [ ] ä»£ç ç”Ÿæˆ < 30 ç§’

---

### æµ‹è¯• 24: ä¼šè¯æ¸…ç†

**ç›®æ ‡**: éªŒè¯ä¼šè¯æ¸…ç†åŠŸèƒ½

**æ­¥éª¤**:
```bash
# åˆ›å»ºå¤šä¸ªæµ‹è¯•ä¼šè¯
for i in {1..5}; do
  claude-replica -p "æµ‹è¯•ä¼šè¯ $i" --max-turns 1
done

# åˆ—å‡ºä¼šè¯
claude-replica sessions

# æ¸…ç†æ—§ä¼šè¯
claude-replica sessions clean --older-than 0d

# éªŒè¯æ¸…ç†ç»“æœ
claude-replica sessions
```

**é¢„æœŸç»“æœ**:
- [ ] ä¼šè¯è¢«æ­£ç¡®åˆ›å»º
- [ ] æ¸…ç†å‘½ä»¤æ­£ç¡®æ‰§è¡Œ
- [ ] æ—§ä¼šè¯è¢«åˆ é™¤

---

## æµ‹è¯•ç»“æœè®°å½•

### æµ‹è¯•ç¯å¢ƒä¿¡æ¯

| é¡¹ç›® | å€¼ |
|------|-----|
| æ“ä½œç³»ç»Ÿ | |
| Node.js ç‰ˆæœ¬ | |
| npm ç‰ˆæœ¬ | |
| Claude Replica ç‰ˆæœ¬ | |
| æµ‹è¯•æ—¥æœŸ | |

### æµ‹è¯•ç»“æœæ±‡æ€»

| æµ‹è¯•ç¼–å· | æµ‹è¯•åç§° | çŠ¶æ€ | å¤‡æ³¨ |
|---------|---------|------|------|
| 1 | äº¤äº’æ¨¡å¼å¯åŠ¨ | â¬œ | |
| 2 | éäº¤äº’æ¨¡å¼æŸ¥è¯¢ | â¬œ | |
| 3 | è¾“å‡ºæ ¼å¼ | â¬œ | |
| 4 | æ–‡ä»¶æ“ä½œ | â¬œ | |
| 5 | å‘½ä»¤æ‰§è¡Œ | â¬œ | |
| 6 | ä»£ç æœç´¢ | â¬œ | |
| 7 | ä¼šè¯ç®¡ç† | â¬œ | |
| 8 | å†…ç½®å‘½ä»¤ | â¬œ | |
| 9 | æŠ€èƒ½ç³»ç»Ÿ | â¬œ | |
| 10 | è‡ªå®šä¹‰å‘½ä»¤ | â¬œ | |
| 11 | å­ä»£ç† | â¬œ | |
| 12 | é’©å­ç³»ç»Ÿ | â¬œ | |
| 13 | MCP é›†æˆ | â¬œ | |
| 14 | æƒé™ç®¡ç† | â¬œ | |
| 15 | å›é€€ç³»ç»Ÿ | â¬œ | |
| 16 | CLAUDE.md é¡¹ç›®ä¸Šä¸‹æ–‡ | â¬œ | |
| 17 | CI ç¯å¢ƒæ£€æµ‹ | â¬œ | |
| 18 | é€€å‡ºç éªŒè¯ | â¬œ | |
| 19 | GitHub Actions é›†æˆ | â¬œ | |
| 20 | ç½‘ç»œé”™è¯¯å¤„ç† | â¬œ | |
| 21 | API è®¤è¯é”™è¯¯ | â¬œ | |
| 22 | ä¸­æ–­å¤„ç† | â¬œ | |
| 23 | å“åº”æ—¶é—´ | â¬œ | |
| 24 | ä¼šè¯æ¸…ç† | â¬œ | |

çŠ¶æ€è¯´æ˜ï¼šâ¬œ æœªæµ‹è¯• | âœ… é€šè¿‡ | âŒ å¤±è´¥ | âš ï¸ éƒ¨åˆ†é€šè¿‡

---

## é—®é¢˜è®°å½•

### å‘ç°çš„é—®é¢˜

| é—®é¢˜ç¼–å· | æµ‹è¯•ç¼–å· | é—®é¢˜æè¿° | ä¸¥é‡ç¨‹åº¦ | çŠ¶æ€ |
|---------|---------|---------|---------|------|
| | | | | |

ä¸¥é‡ç¨‹åº¦ï¼šğŸ”´ ä¸¥é‡ | ğŸŸ¡ ä¸­ç­‰ | ğŸŸ¢ è½»å¾®

---

## é™„å½•

### A. æµ‹è¯•æ•°æ®æ¸…ç†

```bash
# æ¸…ç†æµ‹è¯•ç›®å½•
rm -rf ~/claude-replica-e2e-test

# æ¸…ç†ä¼šè¯æ•°æ®
rm -rf ~/.claude/sessions/*

# æ¸…ç†æ—¥å¿—
rm -rf ~/.claude-replica/logs/*
```

### B. è°ƒè¯•æ¨¡å¼

```bash
# å¯ç”¨è°ƒè¯•æ¨¡å¼
CLAUDE_REPLICA_DEBUG=true claude-replica -p "æµ‹è¯•" --verbose
```

### C. æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
ls -la ~/.claude-replica/logs/
tail -f ~/.claude-replica/logs/latest.log
```
